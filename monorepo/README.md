# Monorepo

## 공부 계기

오픈소스 개발할 때 사용해 보고 싶었고,  
현재 직장은 거의 SI 이기 떄문에 프로젝트를 원활하게 관리할 방법을 배워야 했다.

## 모노레포 전에 간단 배경

### 배경

우리는 **git** 을 사용해서 소스코드 버전관리를 하고 있고,  
Node.js 라는 **Javascript 런타임 환경** 에서 개발을 하고 있으며,
`npm` `yarn` 같은 패키지 매니저를 사용해서 패키지를 관리하고 있다.

### 현재까지 오기까지

예전에는 jQuery 같은 플러그인을 사용할려면 CDN 이나 다운받은걸 연결해야 했다.  
모듈화도 없던 시기라 코드 관심사 분리도 불가능했다.

그러나 보니 소스 코드관리가 어려웠는데 그 당시 쓰는 방법을 **모놀리식** 이라고 부른다.

이후 모듈화 기능이 추가되고 현재의 방법처럼  
다른 패키지를 불러와서 개발하는 **멀티레포(폴리레포)** 방법을 사용하게 됬다.

### 멀티레포와 모노레포의 차이

멀티레포와 모노레포는 `node_modules` 에서 패키지를 관리한다.  
하지만 이후 패키지를 로드하는 과정에서 차이가 생긴다.

**새로운 프로젝트를 생성하고 기존 설정을 가져오는 경우라면**

-   멀티레포 같은 경우 `node_modules` 가 다시 생성될 것이다.
-   모노레포와 같은 경우 기존 `workspaces` 에 있는 패키지를 가져오기에 다시 생성하지 않는다.

**다시 정리를 해서 작성하자면**

-   멀티레포 : 레포 하나의 패키지가 하나가 있고 서비스도 하나이다.
-   모노레포 : 레포 하나의 공통패키지가 있고 서비스도 여러 개 이다.

**각자의 장점이 있다**

-   멀티레포 : 공통패키지가 아니기에 서비스간의 의존성을 신경안써도 된다.
-   모노레포 : 서로 다른 서비스끼리 의존성을 챙겨 결합력이 생긴다.

## 정리

패키지 매니저를 사용하여 패키지를 관리한다.  
프로젝트의 패키지를 관리하는 방법중엔 `멀티레포` `모노레포` 가 존재하고  
각자의 장점이 있어 상황에 따라 사용하면 좋다.
